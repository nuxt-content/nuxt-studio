---
title: Manage and integrate Medias in Nuxt Content Studio CMS
description: Explore how to browse and manage media files, including external storage with Cloudflare R2, and integrate them into your projects.
navigation:
  title: Media Library
  icon: i-lucide-image
seo:
  title: Nuxt Studio Media Library and External Storage
  description: Learn how to manage media files in Nuxt Studio, including external storage integration with Cloudflare R2 and other S3-compatible providers.
---

## Browse

All medias located in the `/public` directory are available in the **Media** tab of the Studio interface.

It's an intuitive interface for non-technical users to manage their `/public` directory or external storage if set.

Users can easily browse folders, upload new media at any level, and drag and drop files, making media organization straightforward.

## Editor integration

The TipTap visual editor provides seamless media integration:

- **Drag and drop** - Simply drag and drop images directly into the editor. An upload modal will open to let you choose the destination folder :badge[Coming Soon]
- **Slash commands** - Type `/` and search for `Image` to quickly insert a media. A modal will open to let you choose the media from your library
- **Alt text support** - From the media modal, you can set the [alt attribute](https://www.w3schools.com/tags/att_img_alt.asp) for SEO and accessibility
- **Attributes support** - From the media modal, you can set additional attributes like width, height, and custom properties for advanced use cases.

## Supported file types

The media library supports the following file types:

- **Images**: PNG, JPG/JPEG, SVG, WebP, AVIF, ICO, GIF
- **Videos**: MP4, MOV, AVI, MKV, WebM, OGG
- **Audio**: MP3, WAV, AAC, M4A

## Storage Comparison

| Feature          | Default storage        | External storage      |
| ---------------- | ---------------------- | --------------------- |
| Setup            | Zero configuration     | Requires S3 env vars  |
| Storage location | `/public` directory    | S3-compatible bucket  |
| Git commits      | Files committed to Git | Only URLs referenced  |
| Repository size  | Grows with media       | Stays small           |
| Best for         | Small projects         | Large media libraries |

## Default storage (`public` folder)

By default, media files are stored in your `/public` directory and committed to Git when you publish. This works great for most projects and requires zero configuration.

Studio tracks all changes to the public folder as drafts in the browser until you publish. A service worker intercepts media requests to serve draft versions instantly, so you see your changes in the preview before they are committed.

## External Storage

For larger projects or teams with many media files, you can configure **external storage** to upload files directly to an S3-compatible Object Storage Service (OSS) such as Cloudflare R2, AWS S3, DigitalOcean Spaces, MinIO, or Backblaze B2.

External storage keeps your Git repository lean: media files live in your cloud bucket and are referenced by URL in your content, never committed to Git.

::note
Files uploaded to external storage are **not committed to Git**. They are stored permanently in your cloud storage bucket and accessed via their public URL.
::

### How it works

When external storage is enabled, the module automatically:

1. Connects to your S3-compatible bucket via Nitro's built-in S3 storage driver
2. Exposes a `/__nuxt_studio/medias` server route that proxies all media operations (upload, list, delete) to your bucket
3. Serves uploaded files from the public URL you provide

No custom server code is required. Everything is handled by the module.

::note
Studio only manages files stored under the configured prefix in your bucket. Files uploaded through the Studio interface are stored as `<prefix>/<path>` (default: `studio/<path>`) and only those files are listed, browsed, or deleted from within Studio. Any other files already in your bucket are left untouched.
::

### Configuration

Enable external storage by setting `media.external: true` in your Studio configuration and providing the required S3 environment variables:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  studio: {
    media: {
      external: true,
    }
  }
})
```

```bash [.env]
S3_ACCESS_KEY_ID=<your_access_key>
S3_SECRET_ACCESS_KEY=<your_secret_key>
S3_ENDPOINT=<your_endpoint_url>
S3_BUCKET=<your_bucket_name>
S3_REGION=auto                       # Optional, defaults to 'auto'
S3_PUBLIC_URL=<your_public_url>
```

### Options

| Option         | Type       | Default                             | Description                                                                 |
| -------------- | ---------- | ----------------------------------- | --------------------------------------------------------------------------- |
| `external`     | `boolean`  | `false`                             | Enable S3-compatible external storage                                       |
| `maxFileSize`  | `number`   | `10485760` (10 MB)                  | Maximum upload size in bytes, enforced server-side                          |
| `allowedTypes` | `string[]` | `['image/*', 'video/*', 'audio/*']` | Allowed MIME types. Wildcards supported (e.g. `image/*`)                    |
| `prefix`       | `string`   | `'studio'`                          | Bucket key prefix for uploaded files. Files are stored as `<prefix>/<path>` |

### Supported providers

Any S3-compatible storage provider works out of the box:

- **Cloudflare R2** — zero egress fees, global edge delivery
- **AWS S3** — the original, with full regional control
- **DigitalOcean Spaces** — S3-compatible API, simple pricing
- **Backblaze B2** — cost-effective S3-compatible storage
- **MinIO** — self-hosted S3-compatible storage

## Examples

### Cloudflare R2

::prose-steps{level="4"}
#### Create R2 bucket

1. Go to [Cloudflare Dashboard](https://dash.cloudflare.com) and navigate to **R2 Object Storage**
2. Create a new bucket (e.g., `my-studio-media`)
3. Under **Settings**, enable **Public access** or configure a custom domain to get a public URL
4. Go to **Manage R2 API Tokens** and create a token with **Object Read & Write** permissions scoped to your bucket

#### Set environment variables

```bash [.env]
S3_ACCESS_KEY_ID=<r2_access_key_id>
S3_SECRET_ACCESS_KEY=<r2_secret_access_key>
S3_ENDPOINT=https://<account_id>.r2.cloudflarestorage.com
S3_BUCKET=my-studio-media
S3_PUBLIC_URL=https://pub-<hash>.r2.dev   # or your custom domain
```

#### Enable in nuxt.config.ts

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  studio: {
    media: {
      external: true
    }
  }
})
```
::
